<Window x:Class="KPLN_Tools.Forms.RLinkManagerForm"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
        xmlns:local="clr-namespace:KPLN_Tools.Forms"
        mc:Ignorable="d" 
        SizeToContent="WidthAndHeight"
        MinHeight="200"
        MaxHeight="900"
        ResizeMode="NoResize"
        Topmost="True"
        WindowStartupLocation="CenterOwner"
        Background="#FF292D36">
    
    <Window.Resources>
        <Style x:Key="MainButtons" TargetType="{x:Type Button}">
            <Setter Property="Padding" Value="5,5"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>

        <Style x:Key="MainTBlock" TargetType="{x:Type TextBlock}">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="TBlock" TargetType="{x:Type TextBlock}">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
        </Style>

        <Style x:Key="TBox" TargetType="{x:Type TextBox}">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
        </Style>

        <Style x:Key="CombBox" TargetType="ComboBox">
            <Setter Property="Width" Value="Auto"/>
            <Setter Property="MinWidth" Value="150"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="Rect" TargetType="{x:Type Rectangle}">
            <Setter Property="Margin" Value="-5"/>
            <Setter Property="RadiusX" Value="3"/>
            <Setter Property="RadiusY" Value="3"/>
            <Setter Property="Fill" Value="White"/>
            <Setter Property="Stroke" Value="AliceBlue"/>
            <Setter Property="StrokeThickness" Value="2"/>
        </Style>

    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="0.85*"/>
            <RowDefinition Height="0.15*"/>
        </Grid.RowDefinitions>

        <!--Блок сущностей-настроек для замены связи-->
        <Grid
            Grid.Row="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="0.15*"/>
                <RowDefinition Height="0.85*"/>
            </Grid.RowDefinitions>
            
            <TextBlock 
                Text="Список конфигураций для импорта/замены связей:" 
                FontSize="16"
                Foreground="White"
                HorizontalAlignment="Left"
                Style="{StaticResource MainTBlock}"/>

            <ScrollViewer 
                x:Name="MainScrollViewer"
                Grid.Row="1"
                HorizontalScrollBarVisibility="Auto" 
                VerticalScrollBarVisibility="Auto"
                DataContext="{Binding SelectedConfig}">
                <ContentControl Content="{Binding}" />
            </ScrollViewer>
        </Grid>

        <!--Блок кнопок-->
        <Grid
            Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.6*"/>
                <ColumnDefinition Width="0.4*"/>
            </Grid.ColumnDefinitions>

            <StackPanel 
                Grid.Column="0"
                Orientation="Horizontal"
                HorizontalAlignment="Left"
                VerticalAlignment="Center">

                <Button 
                    x:Name="StartBtn" 
                    Content="Выполнить" 
                    Click="StartBtn_Click"
                    BorderBrush="Green"
                    Style="{StaticResource MainButtons}"/>
            </StackPanel>

            <StackPanel 
                Grid.Column="1"
                Orientation="Horizontal"
                HorizontalAlignment="Right"
                VerticalAlignment="Center">

                <Button 
                     x:Name="AddNewServLink" 
                     Content="📁" 
                     Click="AddNewServLink_Click"
                     BorderBrush="Orange"
                     Style="{StaticResource MainButtons}">
                    <Button.ToolTip>
                        <TextBlock
                            Text="Добавить новую связь с сервера KPLN (читай из папки)"/>
                    </Button.ToolTip>
                </Button>
                <Button 
                     x:Name="AddNewRevitServerLink" 
                     Content="🗃" 
                     Click="AddNewRevitServerLink_Click"
                     BorderBrush="Orange"
                     Style="{StaticResource MainButtons}">
                    <Button.ToolTip>
                        <StackPanel>
                            <TextBlock
                                Text="Добавить новую связь с Revit-Server"/>
                        </StackPanel>
                    </Button.ToolTip>
                </Button>
                <Button 
                    x:Name="ChangeLink" 
                    Content="🔁" 
                    Click="ChangeLink_Click"
                    BorderBrush="Red"
                    Style="{StaticResource MainButtons}">
                    <Button.ToolTip>
                        <TextBlock
                            Text="Заменить существующую связь"/>
                    </Button.ToolTip>
                </Button>
            </StackPanel>
        </Grid>

    </Grid>
</Window>
