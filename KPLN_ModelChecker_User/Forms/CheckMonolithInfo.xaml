<Window x:Class="KPLN_ModelChecker_User.Forms.CheckMonolithInfo"
       xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
       Title="Результаты проверки монолита"
       Height="600" Width="900"
       WindowStartupLocation="CenterScreen"
       ResizeMode="CanMinimize">

    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Grid.Column="0"
           Text="{Binding MonolithClashPoints.Count,
                          StringFormat=Список ClashPoint ({0})}"
           Margin="0 0 0 5"
           FontWeight="Bold"/>

        <TextBlock Grid.Row="0" Grid.Column="1"
           Text="{Binding SkippedElements.Count,
                          StringFormat=Пропущенные элементы ({0})}"
           Margin="10 0 0 5"
           FontWeight="Bold"/>

        <ScrollViewer Grid.Row="1" Grid.Column="0"
                      VerticalScrollBarVisibility="Auto"
                      Padding="10"
                      Background="#FFE0E0E0">
            <ItemsControl ItemsSource="{Binding MonolithClashPoints}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Margin="0 0 0 6"
                                Padding="6"
                                BorderBrush="#FFBDBDBD"
                                Background="#fcc5cb"
                                BorderThickness="1"
                                CornerRadius="4">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock VerticalAlignment="Center">
                                    <Run Text="ClashPoint ID:" FontWeight="Bold" Foreground="#FF000E44"/>
                                    <Run Text="{Binding Id.IntegerValue, Mode=OneWay}"/>
                                </TextBlock>

                                <StackPanel Grid.Column="1"
                                            Orientation="Horizontal">
                                    <Button Content="📍"
                                            Width="30" Height="24"
                                            Margin="8 0"
                                            Background="#62a4f0"
                                            Click="SelectButton_Click"/>
                                    <Button Content="🔎"
                                            Width="30" Height="24"
                                            Margin="0 0 8 0"
                                            Background="#62a4f0"
                                            Click="ShowButton_Click"/>
                                    <Button Content="Удалить"
                                            Width="70" Height="24"
                                            Background="#b02828"
                                            Foreground="White"
                                            Click="DeleteButton_Click"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

        <ScrollViewer Grid.Row="1" Grid.Column="1"
              VerticalScrollBarVisibility="Auto"
              Margin="10 0 0 0"
              Padding="10"
              Background="#FFE0E0E0">
            <ItemsControl ItemsSource="{Binding SkippedElements}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Margin="0 0 0 6"
                        Padding="6"
                        BorderBrush="#FFBDBDBD"
                        Background="#DDEEFF"
                        BorderThickness="1"
                        CornerRadius="4">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <Button Content="📍"
                                Width="30"
                                Height="24"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Top"
                                Panel.ZIndex="1"
                                Margin="0 0 0 -20"
                                Tag="{Binding Element}"
                                Click="SelectSkippedElement_Click"
                                Background="#62a4f0"
                                Foreground="White"/>

                                <StackPanel Grid.Row="1" Margin="0 0 0 0">
                                    <TextBlock TextWrapping="Wrap" Margin="0 0 0 4">
                                <Run Text="ID:" FontWeight="Bold"/>
                                <Run Text="{Binding Element.Id.IntegerValue, Mode=OneWay}"/>
                                    </TextBlock>

                                    <TextBlock TextWrapping="Wrap" Margin="0 0 0 4">
                                <Run Text="Имя:" FontWeight="Bold"/>
                                <Run Text="{Binding Element.Name, Mode=OneWay}"/>
                                    </TextBlock>

                                    <TextBlock TextWrapping="Wrap" Margin="0 0 0 4">
                                <Run Text="{Binding Origin, Mode=OneWay}"/>
                                    </TextBlock>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</Window>
