<Window x:Class="KPLN_Clashes_Ribbon.Forms.ReportGroupPickerForm"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Выбор группы для переноса"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        SizeToContent="WidthAndHeight"
        Background="#FF292D36"
        FontFamily="Monaco, Consolas, 'Andale Mono', 'DejaVu Sans Mono', monospace"
        WindowStyle="ToolWindow">
    <StackPanel Margin="16">
        <TextBlock Text="Поиск по имени группы:"
                   Foreground="White" FontWeight="Bold" Margin="0,0,0,8"/>

        <DockPanel Margin="0,0,0,8">
            <TextBox x:Name="SearchTB"
                     MinWidth="260"
                     Padding="8,4"
                     TextChanged="OnSearchTextChanged"
                     ToolTip="Поиск по имени группы"/>
            <Button Content="✖"
                    Margin="8,0,0,0"
                    Padding="8,4"
                    Click="OnClearSearch"/>
        </DockPanel>

        <DockPanel Margin="0,0,0,12">
            <TextBlock Text="Кол-во комментариев (0–300):     "
                       Foreground="White"
                       VerticalAlignment="Center"
                       Margin="0,0,8,0"/>
            <TextBox x:Name="ThresholdTB"
                     Width="80"
                     Padding="8,4"
                     Text="0"
                     PreviewTextInput="OnThresholdPreviewTextInput"
                     DataObject.Pasting="OnThresholdPasting"
                     LostFocus="OnThresholdLostFocus"
                     ToolTip="Введите целое число от 0 до 300"/>
        </DockPanel>

        <ItemsControl x:Name="ButtonsList" ItemsSource="{Binding Buttons}">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Button Content="{Binding Title}"
                            Margin="0,0,0,8"
                            Padding="8,4"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            IsEnabled="{Binding IsEnabled}"
                            Click="OnPick"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <TextBlock x:Name="EmptyLabel"
                   Text="Ничего не найдено"
                   Foreground="White"
                   FontStyle="Italic"
                   Visibility="Collapsed"
                   Margin="0,0,0,8"/>

        <Button Content="Отмена" Padding="8,4" Click="OnCancel" HorizontalAlignment="Right" />
    </StackPanel>
</Window>
